<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: UserManagementController</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: UserManagementController</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>UserManagementController<span class="signature">()</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><p>UserManagementController class implementing RESTful API for user management.
Follows REST conventions and provides comprehensive error handling.</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="UserManagementController"><span class="type-signature"></span>new UserManagementController<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line25">line 25</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="archiveUser"><span class="type-signature">(async) </span>archiveUser<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary"><p>PATCH /api/users/:id/archive - Archive user (soft delete)
Sets user to active: false, exists: false making them invisible to normal queries.</p></p>
    



<div class="description">
    <p>PATCH /api/users/:id/archive - Archive user (soft delete)
Sets user to active: false, exists: false making them invisible to normal queries.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express request object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express response object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line516">line 516</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// PATCH /api/endpoint/123
// Body: { "field": "new value" }
// Response: { "success": true, "data": {...} }
// Example usage:
// const result = await methodName(params);
// console.log(result);</code></pre>



        
            

    

    
    <h4 class="name" id="canViewUsers"><span class="type-signature"></span>canViewUsers<span class="signature">(currentUser, targetRole)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Check if current user can view users with specified role.</p>
    



<div class="description">
    <p>Check if current user can view users with specified role.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>currentUser</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>targetRole</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line828">line 828</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// controller.methodName(req, res)
// Handles HTTP request and sends appropriate response
// Example usage:
// const result = await methodName(params);
// console.log(result);</code></pre>



        
            

    

    
    <h4 class="name" id="createUser"><span class="type-signature">(async) </span>createUser<span class="signature">(req, res)</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>
    

    
    <p class="summary">POST /api/users - Create new user.</p>
    



<div class="description">
    <p>POST /api/users - Create new user.</p>
<p>Request Body:</p>
<ul>
<li>email: User email (required)</li>
<li>firstName: First name (required)</li>
<li>lastName: Last name (required)</li>
<li>role: User role (required)</li>
<li>password: Initial password (optional - will be generated if not provided)</li>
<li>clientId: Client assignment (optional)</li>
<li>departmentId: Department assignment (optional)</li>
<li>emailVerified: Email verification status (optional, default: false).</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express request object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express response object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line173">line 173</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Promise that resolves when user is created.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// POST /api/endpoint
// Body: { "data": "value" }
// Response: { "success": true, "message": "Created" }
// Example usage:
// const result = await methodName(params);
// console.log(result);
// Create new user
POST /api/users with body: { email: 'user@example.com', firstName: 'John', lastName: 'Doe', role: 'employee' }</code></pre>



        
            

    

    
    <h4 class="name" id="deactivateUser"><span class="type-signature">(async) </span>deactivateUser<span class="signature">(req, res)</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>
    

    
    <p class="summary"><p>DELETE /api/users/:id - Deactivate user (soft delete)
Note: This performs soft deletion following AI agent rules.</p></p>
    



<div class="description">
    <p>DELETE /api/users/:id - Deactivate user (soft delete)
Note: This performs soft deletion following AI agent rules.</p>
<p>Request Body:</p>
<ul>
<li>reason: Reason for deactivation (optional).</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express request object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express response object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line321">line 321</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Promise that resolves when user is deactivated.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// DELETE /api/endpoint/123
// Response: { "success": true, "message": "Deleted" }
// DELETE /api/users/123
// Response: { "success": true, "message": "User deleted" }
// Deactivate user
DELETE /api/users/12345 with body: { reason: 'Employee resigned' }</code></pre>



        
            

    

    
    <h4 class="name" id="generateSecurePassword"><span class="type-signature"></span>generateSecurePassword<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Generate secure random password.</p>
    



<div class="description">
    <p>Generate secure random password.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line876">line 876</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// controller.methodName(req, res)
// Handles HTTP request and sends appropriate response
// Example usage:
// const result = await methodName(params);
// console.log(result);</code></pre>



        
            

    

    
    <h4 class="name" id="getUserById"><span class="type-signature">(async) </span>getUserById<span class="signature">(req, res)</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>
    

    
    <p class="summary">GET /api/users/:id - Get specific user by ID.</p>
    



<div class="description">
    <p>GET /api/users/:id - Get specific user by ID.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express request object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express response object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line113">line 113</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Promise that resolves when user is retrieved.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// GET /api/endpoint
// Response: { "success": true, "data": [...] }
// GET /api/users?page=1&amp;limit=10
// Response: { "users": [...], "pagination": {...} }
// Get specific user by ID
GET /api/users/12345</code></pre>



        
            

    

    
    <h4 class="name" id="getUserStatistics"><span class="type-signature">(async) </span>getUserStatistics<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">GET /api/users/statistics - Get user statistics for dashboard.</p>
    



<div class="description">
    <p>GET /api/users/statistics - Get user statistics for dashboard.</p>
<p>Returns:</p>
<ul>
<li>totalUsers: Total number of users</li>
<li>activeUsers: Number of active users</li>
<li>newThisMonth: Users created this month</li>
<li>pendingVerification: Users pending email verification</li>
<li>roleDistribution: User count by role</li>
<li>registrationTrends: Monthly registration trends.</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express request object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express response object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line579">line 579</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// GET /api/endpoint
// Response: { "success": true, "data": [...] }
// Example usage:
// const result = await methodName(params);
// console.log(result);</code></pre>



        
            

    

    
    <h4 class="name" id="getUsers"><span class="type-signature">(async) </span>getUsers<span class="signature">(req, res)</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>
    

    
    <p class="summary">GET /api/users - Get users with filtering, pagination, and role-based access.</p>
    



<div class="description">
    <p>GET /api/users - Get users with filtering, pagination, and role-based access.</p>
<p>Query Parameters:</p>
<ul>
<li>page: Page number (default: 1)</li>
<li>limit: Items per page (default: 25, max: 100)</li>
<li>role: Filter by role</li>
<li>active: Filter by active status (true/false)</li>
<li>search: Search term for email, firstName, lastName</li>
<li>clientId: Filter by client (for superadmin/admin)</li>
<li>departmentId: Filter by department</li>
<li>sortField: Field to sort by (default: lastName)</li>
<li>sortDirection: Sort direction (asc/desc, default: asc).</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express request object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express response object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line57">line 57</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Promise that resolves when users are retrieved.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// GET /api/endpoint
// Response: { "success": true, "data": [...] }
// Example usage:
// const result = await methodName(params);
// console.log(result);
// Get users with pagination
GET /api/users?page=1&amp;limit=10&amp;role=employee</code></pre>



        
            

    

    
    <h4 class="name" id="parseSearchParams"><span class="type-signature"></span>parseSearchParams<span class="signature">(query)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Parse search parameters.</p>
    



<div class="description">
    <p>Parse search parameters.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line690">line 690</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// controller.methodName(req, res)
// Handles HTTP request and sends appropriate response
// Example usage:
// const result = await methodName(params);
// console.log(result);</code></pre>



        
            

    

    
    <h4 class="name" id="parseUserQueryParams"><span class="type-signature"></span>parseUserQueryParams<span class="signature">(query)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Parse and validate query parameters for user listing.</p>
    



<div class="description">
    <p>Parse and validate query parameters for user listing.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line657">line 657</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// controller.methodName(req, res)
// Handles HTTP request and sends appropriate response
// Example usage:
// const result = await methodName(params);
// console.log(result);</code></pre>



        
            

    

    
    <h4 class="name" id="reactivateUser"><span class="type-signature">(async) </span>reactivateUser<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">PUT /api/users/:id/reactivate - Reactivate deactivated user.</p>
    



<div class="description">
    <p>PUT /api/users/:id/reactivate - Reactivate deactivated user.</p>
<p>Request Body:</p>
<ul>
<li>reason: Reason for reactivation (optional).</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express request object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express response object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line390">line 390</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// PUT /api/endpoint/123
// Body: { "field": "updated value" }
// Response: { "success": true, "data": {...} }
// PUT /api/users/123
// Body: { "firstName": "John", "lastName": "Doe" }
// Response: { "success": true, "user": {...} }
// PUT /api/users/123/reactivate
// Body: { "reason": "Account review completed" }
// Response: { "success": true, "user": {...}, "message": "User reactivated successfully" }</code></pre>



        
            

    

    
    <h4 class="name" id="sanitizeUserData"><span class="type-signature"></span>sanitizeUserData<span class="signature">(data)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Sanitize user data to prevent injection attacks.</p>
    



<div class="description">
    <p>Sanitize user data to prevent injection attacks.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line790">line 790</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// controller.methodName(req, res)
// Handles HTTP request and sends appropriate response
// Example usage:
// const result = await methodName(params);
// console.log(result);</code></pre>



        
            

    

    
    <h4 class="name" id="searchUsers"><span class="type-signature">(async) </span>searchUsers<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">GET /api/users/search - Search users with advanced filtering.</p>
    



<div class="description">
    <p>GET /api/users/search - Search users with advanced filtering.</p>
<p>Query Parameters:</p>
<ul>
<li>q: Search query</li>
<li>role: Filter by role</li>
<li>active: Filter by active status</li>
<li>page, limit: Pagination</li>
<li>sortField, sortDirection: Sorting.</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express request object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express response object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line621">line 621</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// GET /api/endpoint
// Response: { "success": true, "data": [...] }
// Example usage:
// const result = await methodName(params);
// console.log(result);</code></pre>



        
            

    

    
    <h4 class="name" id="sendError"><span class="type-signature"></span>sendError<span class="signature">(res, message, statusCode, details)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Send error response.</p>
    



<div class="description">
    <p>Send error response.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>statusCode</code></td>
            

            <td class="type">
            
            </td>

            

            
                <td class="default">
                
                    500
                
                </td>
            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>details</code></td>
            

            <td class="type">
            
            </td>

            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line923">line 923</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// controller.methodName(req, res)
// Handles HTTP request and sends appropriate response
// Example usage:
// const result = await methodName(params);
// console.log(result);</code></pre>



        
            

    

    
    <h4 class="name" id="sendSuccess"><span class="type-signature"></span>sendSuccess<span class="signature">(res, data, message, statusCode)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Send successful response.</p>
    



<div class="description">
    <p>Send successful response.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
            </td>

            

            
                <td class="default">
                
                    Success
                
                </td>
            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>statusCode</code></td>
            

            <td class="type">
            
            </td>

            

            
                <td class="default">
                
                    200
                
                </td>
            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line901">line 901</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// controller.methodName(req, res)
// Handles HTTP request and sends appropriate response
// Example usage:
// const result = await methodName(params);
// console.log(result);</code></pre>



        
            

    

    
    <h4 class="name" id="toggleUserStatus"><span class="type-signature">(async) </span>toggleUserStatus<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary"><p>PATCH /api/users/:id/toggle-status - Toggle user active status
Changes user active status between true/false while maintaining exists: true.</p></p>
    



<div class="description">
    <p>PATCH /api/users/:id/toggle-status - Toggle user active status
Changes user active status between true/false while maintaining exists: true.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express request object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express response object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line452">line 452</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// PATCH /api/endpoint/123
// Body: { "field": "new value" }
// Response: { "success": true, "data": {...} }
// Example usage:
// const result = await methodName(params);
// console.log(result);</code></pre>



        
            

    

    
    <h4 class="name" id="updateUser"><span class="type-signature">(async) </span>updateUser<span class="signature">(req, res)</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>
    

    
    <p class="summary">PUT /api/users/:id - Update existing user.</p>
    



<div class="description">
    <p>PUT /api/users/:id - Update existing user.</p>
<p>Request Body: Partial user data to update</p>
<ul>
<li>firstName, lastName, role, active, emailVerified, etc.</li>
<li>password: New password (optional)</li>
<li>clientId, departmentId: Organizational assignments (optional).</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express request object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Express response object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line254">line 254</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Promise that resolves when user is updated.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// PUT /api/endpoint/123
// Body: { "field": "updated value" }
// Response: { "success": true, "data": {...} }
// PUT /api/users/123
// Body: { "firstName": "John", "lastName": "Doe" }
// Response: { "success": true, "user": {...} }
// Update user
PUT /api/users/12345 with body: { firstName: 'Jane', role: 'manager' }</code></pre>



        
            

    

    
    <h4 class="name" id="validateCreateUserRequest"><span class="type-signature"></span>validateCreateUserRequest<span class="signature">(data)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Validate create user request data.</p>
    



<div class="description">
    <p>Validate create user request data.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line712">line 712</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// controller.methodName(req, res)
// Handles HTTP request and sends appropriate response
// Example usage:
// const result = await methodName(params);
// console.log(result);</code></pre>



        
            

    

    
    <h4 class="name" id="validateUpdateUserRequest"><span class="type-signature"></span>validateUpdateUserRequest<span class="signature">(data)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Validate update user request data.</p>
    



<div class="description">
    <p>Validate update user request data.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="application_controllers_api_UserManagementController.js.html">application/controllers/api/UserManagementController.js</a>, <a href="application_controllers_api_UserManagementController.js.html#line758">line 758</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// controller.methodName(req, res)
// Handles HTTP request and sends appropriate response
// Example usage:
// const result = await methodName(params);
// console.log(result);</code></pre>



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AdminController.html">AdminController</a></li><li><a href="AmexingAuthMiddleware.html">AmexingAuthMiddleware</a></li><li><a href="AmexingAuthService.html">AmexingAuthService</a></li><li><a href="AmexingUser.html">AmexingUser</a></li><li><a href="ApiController.html">ApiController</a></li><li><a href="AppleIdTokenValidator.html">AppleIdTokenValidator</a></li><li><a href="AppleOAuthService.html">AppleOAuthService</a></li><li><a href="AppleOAuthServiceCore.html">AppleOAuthServiceCore</a></li><li><a href="AppleSignInButton.html">AppleSignInButton</a></li><li><a href="AppleTokenExchanger.html">AppleTokenExchanger</a></li><li><a href="AuthController.html">AuthController</a></li><li><a href="AuthMiddleware.html">AuthMiddleware</a></li><li><a href="AuthenticationService.html">AuthenticationService</a></li><li><a href="AuthenticationServiceCore.html">AuthenticationServiceCore</a></li><li><a href="BaseController.html">BaseController</a></li><li><a href="Client.html">Client</a></li><li><a href="ClientController.html">ClientController</a></li><li><a href="CorporateOAuthInterface.html">CorporateOAuthInterface</a></li><li><a href="CorporateOAuthService.html">CorporateOAuthService</a></li><li><a href="CorporateSyncService.html">CorporateSyncService</a></li><li><a href="DashboardAuthMiddleware.html">DashboardAuthMiddleware</a></li><li><a href="DashboardController.html">DashboardController</a></li><li><a href="Department.html">Department</a></li><li><a href="DepartmentManagerController.html">DepartmentManagerController</a></li><li><a href="DepartmentOAuthFlowService.html">DepartmentOAuthFlowService</a></li><li><a href="DriverController.html">DriverController</a></li><li><a href="EmployeeController.html">EmployeeController</a></li><li><a href="GuestController.html">GuestController</a></li><li><a href="HomeController.html">HomeController</a></li><li><a href="IntelligentProviderSelector.html">IntelligentProviderSelector</a></li><li><a href="MobileOAuthOptimizer.html">MobileOAuthOptimizer</a></li><li><a href="NotificationsController.html">NotificationsController</a></li><li><a href="OAuthPermissionService.html">OAuthPermissionService</a></li><li><a href="OAuthProvider.html">OAuthProvider</a></li><li><a href="OAuthSecurityValidator.html">OAuthSecurityValidator</a></li><li><a href="OAuthService.html">OAuthService</a></li><li><a href="PermissionAuditService.html">PermissionAuditService</a></li><li><a href="PermissionContextService.html">PermissionContextService</a></li><li><a href="PermissionDelegationService.html">PermissionDelegationService</a></li><li><a href="PermissionInheritanceService.html">PermissionInheritanceService</a></li><li><a href="PermissionService.html">PermissionService</a></li><li><a href="RoleBasedController.html">RoleBasedController</a></li><li><a href="SecureSecretsManager.html">SecureSecretsManager</a></li><li><a href="SecurityMiddleware.html">SecurityMiddleware</a></li><li><a href="SuperAdminController.html">SuperAdminController</a></li><li><a href="UserManagementController.html">UserManagementController</a></li><li><a href="global.html#UserManagementService">UserManagementService</a></li><li><a href="ValidationMiddleware.html">ValidationMiddleware</a></li></ul><h3>Global</h3><ul><li><a href="global.html#BaseModel">BaseModel</a></li><li><a href="global.html#Parse">Parse</a></li><li><a href="global.html#about">about</a></li><li><a href="global.html#addCorporateDomain">addCorporateDomain</a></li><li><a href="global.html#authRateLimit">authRateLimit</a></li><li><a href="global.html#authenticateOptional">authenticateOptional</a></li><li><a href="global.html#authenticateToken">authenticateToken</a></li><li><a href="global.html#autoRefreshToken">autoRefreshToken</a></li><li><a href="global.html#checkUserPermission">checkUserPermission</a></li><li><a href="global.html#createEmergencyElevation">createEmergencyElevation</a></li><li><a href="global.html#createPermissionDelegation">createPermissionDelegation</a></li><li><a href="global.html#createPermissionOverride">createPermissionOverride</a></li><li><a href="global.html#crypto">crypto</a></li><li><a href="global.html#errorHandler">errorHandler</a></li><li><a href="global.html#express">express</a></li><li><a href="global.html#expressRateLimit">expressRateLimit</a></li><li><a href="global.html#extractUser">extractUser</a></li><li><a href="global.html#findUserById">findUserById</a></li><li><a href="global.html#generateCorporateOAuthURL">generateCorporateOAuthURL</a></li><li><a href="global.html#generateTokens">generateTokens</a></li><li><a href="global.html#getActiveDelegations">getActiveDelegations</a></li><li><a href="global.html#getAllSyncStatuses">getAllSyncStatuses</a></li><li><a href="global.html#getAppleOAuthAnalytics">getAppleOAuthAnalytics</a></li><li><a href="global.html#getAppleOAuthConfig">getAppleOAuthConfig</a></li><li><a href="global.html#getAppleUserData">getAppleUserData</a></li><li><a href="global.html#getAvailableContexts">getAvailableContexts</a></li><li><a href="global.html#getAvailableCorporateDomains">getAvailableCorporateDomains</a></li><li><a href="global.html#getAvailableDepartments">getAvailableDepartments</a></li><li><a href="global.html#getAvailablePermissions">getAvailablePermissions</a></li><li><a href="global.html#getCorporateClientDepartments">getCorporateClientDepartments</a></li><li><a href="global.html#getCorporateLandingConfig">getCorporateLandingConfig</a></li><li><a href="global.html#getCorporateSyncHistory">getCorporateSyncHistory</a></li><li><a href="global.html#getData">getData</a></li><li><a href="global.html#getDatabaseMetrics">getDatabaseMetrics</a></li><li><a href="global.html#getDelegatedPermissions">getDelegatedPermissions</a></li><li><a href="global.html#getDepartmentOAuthAnalytics">getDepartmentOAuthAnalytics</a></li><li><a href="global.html#getDepartmentOAuthConfig">getDepartmentOAuthConfig</a></li><li><a href="global.html#getDepartmentOAuthProviders">getDepartmentOAuthProviders</a></li><li><a href="global.html#getDepartmentPermissions">getDepartmentPermissions</a></li><li><a href="global.html#getErrorDetails">getErrorDetails</a></li><li><a href="global.html#getOAuthAuditLogs">getOAuthAuditLogs</a></li><li><a href="global.html#getOAuthProviderStatus">getOAuthProviderStatus</a></li><li><a href="global.html#getPermissionAuditReport">getPermissionAuditReport</a></li><li><a href="global.html#getPermissionAuditStats">getPermissionAuditStats</a></li><li><a href="global.html#getProviderDisplayName">getProviderDisplayName</a></li><li><a href="global.html#getRequestProperty">getRequestProperty</a></li><li><a href="global.html#getRolePermissions">getRolePermissions</a></li><li><a href="global.html#getSecretsManager">getSecretsManager</a></li><li><a href="global.html#getStatus">getStatus</a></li><li><a href="global.html#getSystemMetrics">getSystemMetrics</a></li><li><a href="global.html#getUserEffectivePermissions">getUserEffectivePermissions</a></li><li><a href="global.html#getUserPermissionInheritance">getUserPermissionInheritance</a></li><li><a href="global.html#getUserProfile">getUserProfile</a></li><li><a href="global.html#getVersion">getVersion</a></li><li><a href="global.html#gracefulShutdown">gracefulShutdown</a></li><li><a href="global.html#handleAppleOAuthCallback">handleAppleOAuthCallback</a></li><li><a href="global.html#handleAppleWebhook">handleAppleWebhook</a></li><li><a href="global.html#handleDepartmentOAuthCallback">handleDepartmentOAuthCallback</a></li><li><a href="global.html#handleMongoError">handleMongoError</a></li><li><a href="global.html#handleParseError">handleParseError</a></li><li><a href="global.html#handleValidationError">handleValidationError</a></li><li><a href="global.html#hasPermission">hasPermission</a></li><li><a href="global.html#https">https</a></li><li><a href="global.html#initialize">initialize</a></li><li><a href="global.html#initiateAppleOAuth">initiateAppleOAuth</a></li><li><a href="global.html#initiateDepartmentOAuth">initiateDepartmentOAuth</a></li><li><a href="global.html#jwt">jwt</a></li><li><a href="global.html#loadPrivateKey">loadPrivateKey</a></li><li><a href="global.html#logAccessAttempt">logAccessAttempt</a></li><li><a href="global.html#logDataAccess">logDataAccess</a></li><li><a href="global.html#logError">logError</a></li><li><a href="global.html#logSecurityEvent">logSecurityEvent</a></li><li><a href="global.html#logSystemChange">logSystemChange</a></li><li><a href="global.html#logger">logger</a></li><li><a href="global.html#login">login</a></li><li><a href="global.html#logout">logout</a></li><li><a href="global.html#optionalAuth">optionalAuth</a></li><li><a href="global.html#recordSuccessfulLogin">recordSuccessfulLogin</a></li><li><a href="global.html#register">register</a></li><li><a href="global.html#registerCloudFunctions">registerCloudFunctions</a></li><li><a href="global.html#requireRole">requireRole</a></li><li><a href="global.html#revokeAppleOAuth">revokeAppleOAuth</a></li><li><a href="global.html#revokePermissionDelegation">revokePermissionDelegation</a></li><li><a href="global.html#setRequestProperty">setRequestProperty</a></li><li><a href="global.html#showForgotPassword">showForgotPassword</a></li><li><a href="global.html#showLogin">showLogin</a></li><li><a href="global.html#showRegister">showRegister</a></li><li><a href="global.html#showResetPassword">showResetPassword</a></li><li><a href="global.html#startPeriodicSync">startPeriodicSync</a></li><li><a href="global.html#stopPeriodicSync">stopPeriodicSync</a></li><li><a href="global.html#switchPermissionContext">switchPermissionContext</a></li><li><a href="global.html#switchToDepartmentContext">switchToDepartmentContext</a></li><li><a href="global.html#testCorporateDomain">testCorporateDomain</a></li><li><a href="global.html#triggerCorporateSync">triggerCorporateSync</a></li><li><a href="global.html#updateUserProfile">updateUserProfile</a></li><li><a href="global.html#validateAppleDomain">validateAppleDomain</a></li><li><a href="global.html#validateCorporateLandingAccess">validateCorporateLandingAccess</a></li><li><a href="global.html#validateDepartmentOAuthAccess">validateDepartmentOAuthAccess</a></li><li><a href="global.html#validateLogin">validateLogin</a></li><li><a href="global.html#validateNewPassword">validateNewPassword</a></li><li><a href="global.html#validatePassword">validatePassword</a></li><li><a href="global.html#validatePasswordReset">validatePasswordReset</a></li><li><a href="global.html#validateRegistration">validateRegistration</a></li><li><a href="global.html#validateRequest">validateRequest</a></li><li><a href="global.html#validateUpdateProfile">validateUpdateProfile</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Wed Sep 24 2025 12:14:54 GMT-0600 (hora estndar central)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>